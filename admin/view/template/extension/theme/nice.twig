{{ header }}{{ column_left }}
<div id="content">
  <div class="page-header">
    <div class="container-fluid">
      <div class="pull-right">
        <button type="submit" form="form-theme" data-toggle="tooltip" title="{{ button_save }}" class="btn btn-primary"><i class="fa fa-save"></i></button>
        <a href="{{ cancel }}" data-toggle="tooltip" title="{{ button_cancel }}" class="btn btn-nice"><i class="fa fa-reply"></i></a></div>
      <h1>{{ text_heading_title }}</h1>
      <ul class="breadcrumb">
        {% for breadcrumb in breadcrumbs %}
          <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
          {% endfor %}
      </ul>
    </div>
  </div>
  <div class="container-fluid">
    {% if error_warning %}
      <div class="alert alert-danger alert-dismissible"><i class="fa fa-exclamation-circle"></i> {{ error_warning }}
        <button type="button" class="close" data-dismiss="alert">&times;</button>
      </div>
    {% endif %}
    <div class="panel panel-nice">
      <div class="panel-heading">
        <h3 class="panel-title"><i class="fa fa-pencil"></i> {{ text_edit }}</h3>
      </div>
      <div class="panel-body">
        <form action="{{ action }}" method="post" enctype="multipart/form-data" id="form-theme" class="form-horizontal">
          <fieldset>
            <legend>{{ text_general }}</legend>
            <div class="form-group">
              <label class="col-sm-2 control-label" for="input-status">{{ entry_status }}</label>
              <div class="col-sm-10">
                <select name="theme_nice_status" id="input-status" class="form-control">
                  {% if theme_nice_status %}
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                  {% else %}
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                  {% endif %}
                </select>
              </div>
            </div>
          </fieldset>
          <hr>
          <div class="row">
            <div class="col-lg-2 col-md-3" >
              <ul class="nav nav-pills nav-stacked">
                <li class="active"><a href="#tab-basic-settings" data-toggle="pill">{{ tab_basic_settings }}</a></li>
                <li><a href="#tab-main-menu" data-toggle="pill">{{ tab_menu_top }}</a></li>
                <li><a href="#tab-footer" data-toggle="pill">{{ tab_footer }}</a></li>
              </ul>
            </div>
            <hr class="hidden-lg hidden-md">
            <div class="col-lg-10 col-md-9" style="border-left: 1px solid #eee;" >
              <div class="tab-content">
                <div class="tab-pane active" id="tab-basic-settings">
                  <fieldset>
                    <div class="form-group hidden">
                      <label class="col-sm-2 control-label" for="input-directory"><span data-toggle="tooltip" title="{{ help_directory }}">{{ entry_directory }}</span></label>
                      <div class="col-sm-10">
                        <select name="theme_nice_directory" id="input-directory" class="form-control">
                          {% for directory in directories %}
                            {% if directory == theme_nice_directory %}
                              <option value="{{ directory }}" selected="selected">{{ directory }}</option>
                            {% else %}
                              <option value="{{ directory }}">{{ directory }}</option>
                            {% endif %}
                          {% endfor %}
                        </select>
                      </div>
                    </div>
                    <legend>{{ text_product }}</legend>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-catalog-limit"><span data-toggle="tooltip" title="{{ help_product_limit }}">{{ entry_product_limit }}</span></label>
                      <div class="col-sm-10">
                        <input type="text" name="theme_nice_product_limit" value="{{ theme_nice_product_limit }}" placeholder="{{ entry_product_limit }}" id="input-catalog-limit" class="form-control" />
                        {% if error_product_limit %}
                          <div class="text-danger">{{ error_product_limit }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-description-limit"><span data-toggle="tooltip" title="{{ help_product_description_length }}">{{ entry_product_description_length }}</span></label>
                      <div class="col-sm-10">
                        <input type="text" name="theme_nice_product_description_length" value="{{ theme_nice_product_description_length }}" placeholder="{{ entry_product_description_length }}" id="input-description-limit" class="form-control" />
                        {% if error_product_description_length %}
                          <div class="text-danger">{{ error_product_description_length }}</div>
                        {% endif %}
                      </div>
                    </div>
                  </fieldset>
                  <fieldset>
                    <legend>{{ text_image }}</legend>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-image-category-width">{{ entry_image_category }}</label>
                      <div class="col-sm-10">
                        <div class="row">
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_category_width" value="{{ theme_nice_image_category_width }}" placeholder="{{ entry_width }}" id="input-image-category-width" class="form-control" />
                          </div>
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_category_height" value="{{ theme_nice_image_category_height }}" placeholder="{{ entry_height }}" class="form-control" />
                          </div>
                        </div>
                        {% if error_image_category %}
                          <div class="text-danger">{{ error_image_category }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-image-manufacturer-width">{{ entry_image_manufacturer }}</label>
                      <div class="col-sm-10">
                        <div class="row">
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_manufacturer_width" value="{{ theme_nice_image_manufacturer_width }}" placeholder="{{ entry_width }}" id="input-image-manufacturer-width" class="form-control" />
                          </div>
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_manufacturer_height" value="{{ theme_nice_image_manufacturer_height }}" placeholder="{{ entry_height }}" class="form-control" />
                          </div>
                        </div>
                        {% if error_image_manufacturer %}
                          <div class="text-danger">{{ error_image_manufacturer }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-image-thumb-width">{{ entry_image_thumb }}</label>
                      <div class="col-sm-10">
                        <div class="row">
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_thumb_width" value="{{ theme_nice_image_thumb_width }}" placeholder="{{ entry_width }}" id="input-image-thumb-width" class="form-control" />
                          </div>
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_thumb_height" value="{{ theme_nice_image_thumb_height }}" placeholder="{{ entry_height }}" class="form-control" />
                          </div>
                        </div>
                        {% if error_image_thumb %}
                          <div class="text-danger">{{ error_image_thumb }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-image-popup-width">{{ entry_image_popup }}</label>
                      <div class="col-sm-10">
                        <div class="row">
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_popup_width" value="{{ theme_nice_image_popup_width }}" placeholder="{{ entry_width }}" id="input-image-popup-width" class="form-control" />
                          </div>
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_popup_height" value="{{ theme_nice_image_popup_height }}" placeholder="{{ entry_height }}" class="form-control" />
                          </div>
                        </div>
                        {% if error_image_popup %}
                          <div class="text-danger">{{ error_image_popup }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-image-product-width">{{ entry_image_product }}</label>
                      <div class="col-sm-10">
                        <div class="row">
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_product_width" value="{{ theme_nice_image_product_width }}" placeholder="{{ entry_width }}" id="input-image-product-width" class="form-control" />
                          </div>
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_product_height" value="{{ theme_nice_image_product_height }}" placeholder="{{ entry_height }}" class="form-control" />
                          </div>
                        </div>
                        {% if error_image_product %}
                          <div class="text-danger">{{ error_image_product }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-image-additional-width">{{ entry_image_additional }}</label>
                      <div class="col-sm-10">
                        <div class="row">
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_additional_width" value="{{ theme_nice_image_additional_width }}" placeholder="{{ entry_width }}" id="input-image-additional-width" class="form-control" />
                          </div>
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_additional_height" value="{{ theme_nice_image_additional_height }}" placeholder="{{ entry_height }}" class="form-control" />
                          </div>
                        </div>
                        {% if error_image_additional %}
                          <div class="text-danger">{{ error_image_additional }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-image-related">{{ entry_image_related }}</label>
                      <div class="col-sm-10">
                        <div class="row">
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_related_width" value="{{ theme_nice_image_related_width }}" placeholder="{{ entry_width }}" id="input-image-related" class="form-control" />
                          </div>
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_related_height" value="{{ theme_nice_image_related_height }}" placeholder="{{ entry_height }}" class="form-control" />
                          </div>
                        </div>
                        {% if error_image_related %}
                          <div class="text-danger">{{ error_image_related }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-image-compare">{{ entry_image_compare }}</label>
                      <div class="col-sm-10">
                        <div class="row">
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_compare_width" value="{{ theme_nice_image_compare_width }}" placeholder="{{ entry_width }}" id="input-image-compare" class="form-control" />
                          </div>
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_compare_height" value="{{ theme_nice_image_compare_height }}" placeholder="{{ entry_height }}" class="form-control" />
                          </div>
                        </div>
                        {% if error_image_compare %}
                          <div class="text-danger">{{ error_image_compare }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-image-wishlist">{{ entry_image_wishlist }}</label>
                      <div class="col-sm-10">
                        <div class="row">
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_wishlist_width" value="{{ theme_nice_image_wishlist_width }}" placeholder="{{ entry_width }}" id="input-image-wishlist" class="form-control" />
                          </div>
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_wishlist_height" value="{{ theme_nice_image_wishlist_height }}" placeholder="{{ entry_height }}" class="form-control" />
                          </div>
                        </div>
                        {% if error_image_wishlist %}
                          <div class="text-danger">{{ error_image_wishlist }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-image-cart">{{ entry_image_cart }}</label>
                      <div class="col-sm-10">
                        <div class="row">
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_cart_width" value="{{ theme_nice_image_cart_width }}" placeholder="{{ entry_width }}" id="input-image-cart" class="form-control" />
                          </div>
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_cart_height" value="{{ theme_nice_image_cart_height }}" placeholder="{{ entry_height }}" class="form-control" />
                          </div>
                        </div>
                        {% if error_image_cart %}
                          <div class="text-danger">{{ error_image_cart }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" for="input-image-location">{{ entry_image_location }}</label>
                      <div class="col-sm-10">
                        <div class="row">
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_location_width" value="{{ theme_nice_image_location_width }}" placeholder="{{ entry_width }}" id="input-image-location" class="form-control" />
                          </div>
                          <div class="col-sm-6">
                            <input type="text" name="theme_nice_image_location_height" value="{{ theme_nice_image_location_height }}" placeholder="{{ entry_height }}" class="form-control" />
                          </div>
                        </div>
                        {% if error_image_location %}
                          <div class="text-danger">{{ error_image_location }}</div>
                        {% endif %}
                      </div>
                    </div>
                  </fieldset>
                </div> 

                <div class="tab-pane" id="tab-main-menu">
                  <div class="form-group">
                    <label class="col-sm-3 control-label">{{ entry_menu_top_status }}</label>
                    <div class="col-sm-9">
                      <div class="btn-group" data-toggle="buttons">
                        <label class="btn btn-default {% if not theme_nice_menu_top_status %} active {% endif %}">
                          <input type="radio" name="theme_nice_menu_top_status" value="0" {% if not theme_nice_menu_top_status %} checked {% endif %}>
                          <span >{{ text_disabled }}</span>
                        </label>
                        <label class="btn btn-default {% if theme_nice_menu_top_status %} active {% endif %}">
                          <input type="radio" name="theme_nice_menu_top_status" value="1" {% if theme_nice_menu_top_status %} checked {% endif %}>
                          <span >{{ text_enabled }}</span>
                        </label>
                      </div>
                    </div>
                  </div>
                  <hr>
                  <div class="form-group">
                    <label class="col-sm-3 control-label">{{ text_menu_top_items }}</label>
                    <div class="col-sm-9">
                      <table id="main-menu-items" class="table table-bordered">
                        <thead>
                          <tr>
                            <td class="nowrap">{{ text_title }}</td>
                            <td class="nowrap">{{ text_link }}</td>
                            <td class="nowrap">{{ text_sort_order }}</td>
                            <td class="w-1"></td>
                          </tr>
                        </thead>
                        <tbody>
                          {% set item_row_main = 0 %}
                          {% for theme_nice_menu_top_item in theme_nice_menu_top_items %}
                            <tr id="item-row-main{{ item_row_main }}">
                              <td class="text-left">
                                {% for language in languages %}
                                  <div class="input-group input-group-sm pull-left">
                                    <span class="input-group-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
                                    <input class="form-control" type="text" name="theme_nice_menu_top_item[{{ item_row_main }}][title][{{ language.language_id }}]" value="{{ theme_nice_menu_top_item.title[language.language_id] }}" />
                                  </div>
                                {% endfor %}
                              </td>
                              <td class="text-left">
                                {% for language in languages %}
                                  <div class="input-group input-group-sm pull-left">
                                    <span class="input-group-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
                                    <input class="form-control" type="text" name="theme_nice_menu_top_item[{{ item_row_main }}][link][{{ language.language_id }}]" value="{{ theme_nice_menu_top_item.link[language.language_id] }}" />
                                  </div>
                                {% endfor %}
                              </td>
                              <td class="text-left">
                                <input  class="form-control" type="text" name="theme_nice_menu_top_item[{{ item_row_main }}][sort_order]" value="{{ theme_nice_menu_top_item.sort_order }}" />
                              </td>
                              <td class="text-right">
                                <a class="btn btn-danger" onclick="$('#item-row-main{{ item_row_main }}').remove();" data-toggle="tooltip" title="Удалить"><i class="fa fa-trash-o"></i></a>
                              </td>
                            </tr>
                            {% set item_row_main = item_row_main + 1 %}
                          {% endfor %}
                        </tbody>
                        <tfoot>
                          <tr>
                            <td colspan="3"></td>
                            <td class="text-right"><a class="btn btn-default" onclick="addItemMain();" data-toggle="tooltip" title="Добавить"><i class="fa fa-plus"></i></a></td>
                          </tr>
                        </tfoot>
                      </table>
                      <script>
                        var item_row_main = {{ item_row_main }};
                                function addItemMain() {
                                  html = '<tr id="item-row-main' + item_row_main + '">';
                                  html += '<td class="text-left">';
                        {% for language in languages %}
                                    html += '<div class="input-group input-group-sm pull-left"><span class="input-group-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>';
                                    html += '<input class="form-control" type="text" name="theme_nice_menu_top_item[' + item_row_main + '][title][{{ language.language_id }}]" value="" />';
                                    html += '</div>';
                        {% endfor %}
                                    html += '</td>';
                                    html += '<td class="text-left">';
                        {% for language in languages %}
                                    html += '<div class="input-group input-group-sm pull-left"><span class="input-group-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>';
                                    html += '<input class="form-control"  type="text" name="theme_nice_menu_top_item[' + item_row_main + '][link][{{ language.language_id }}]" value="" />';
                                    html += '</div>';
                        {% endfor %}
                                    html += '</td>';
                                    html += '<td class="text-left"><input class="form-control" type="text" name="theme_nice_menu_top_item[' + item_row_main + '][sort_order]" size="1" value="0" /></td>';
                                    html += '<td class="text-right"><a class="btn btn-danger" onclick="$(\'#item-row-main' + item_row_main + '\').remove();" data-toggle="tooltip" title="Удалить"><i class="fa fa-trash-o"></i></a></td>';
                                    html += '</tr>';
                                    $('#main-menu-items tbody').append(html);
                                    ;
                                    item_row_main++;
                                  }
                      </script> 
                    </div>
                  </div>
                </div>

                <div class="tab-pane" id="tab-footer">
                  <div class="form-group">
                    <label class="col-sm-3 control-label">{{ entry_footer_icons }}</label>
                    <div class="col-sm-9">
                      <div class="btn-group" data-toggle="buttons">
                        <label class="btn btn-default {% if not theme_nice_pay_icons_toggle %} active {% endif %}">
                          <input type="radio" name="theme_nice_pay_icons_toggle" value="0" {% if not theme_nice_pay_icons_toggle %} checked {% endif %}>
                          <span >{{ text_enabled }}</span>
                        </label>
                        <label class="btn btn-default {% if theme_nice_pay_icons_toggle %} active {% endif %}">
                          <input type="radio" name="theme_nice_pay_icons_toggle" value="1" {% if theme_nice_pay_icons_toggle %} checked {% endif %}>
                          <span >{{ text_disabled }}</span>
                        </label>
                      </div>
                    </div>
                  </div>
                  <hr>
                  <div class="form-group">
                    <label class="col-sm-3 control-label">{{ text_banner }}</label>
                    <div class="col-sm-9">
                      <div class="inline-block">
                        <select name="theme_nice_pay_icons_banner_id" class="form-control">
                          <option value="-1">{{ text_select }}</option>
                          {% for banner in banners %}
                            {% if banner.banner_id == theme_nice_pay_icons_banner_id %}
                              <option value="{{ banner.banner_id }}" selected="selected">{{ banner.name }}</option>
                            {% else %}
                              <option value="{{ banner.banner_id }}">{{ banner.name }}</option>
                            {% endif %}
                          {% endfor %}
                        </select>
                      </div>
                    </div>
                  </div> 
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{{ footer }}